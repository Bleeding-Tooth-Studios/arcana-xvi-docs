"use strict";(self.webpackChunkarcana_xvi_docs=self.webpackChunkarcana_xvi_docs||[]).push([[9619],{263:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"components/components","title":"Ordinary & Internal Components","description":"Components are the building blocks of the Arcana XVI Framework.","source":"@site/docs/components/components.md","sourceDirName":"components","slug":"/components/","permalink":"/arcana-xvi-docs/docs/components/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/components/components.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Components","permalink":"/arcana-xvi-docs/docs/category/components"},"next":{"title":"Systems","permalink":"/arcana-xvi-docs/docs/category/systems"}}');var o=t(4848),s=t(8453);const a={},c="Ordinary & Internal Components",i={},d=[{value:"Ordinary Component Structure",id:"ordinary-component-structure",level:2},{value:"Client Components",id:"client-components",level:3},{value:"Server Components",id:"server-components",level:3},{value:"Shared Components",id:"shared-components",level:3},{value:"Internal Component Structure",id:"internal-component-structure",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ordinary--internal-components",children:"Ordinary & Internal Components"})}),"\n",(0,o.jsx)(n.p,{children:"Components are the building blocks of the Arcana XVI Framework."}),"\n",(0,o.jsx)(n.h2,{id:"ordinary-component-structure",children:"Ordinary Component Structure"}),"\n",(0,o.jsxs)(n.p,{children:["Components in Arcana XVI are identical to ",(0,o.jsx)(n.a,{href:"https://flamework.fireboltofdeath.dev/docs/additional-modules/components/creating-a-component",children:"Flamework's"})," components, with the exception of the ",(0,o.jsx)(n.code,{children:"Shared"}),", ",(0,o.jsx)(n.code,{children:"Client"}),", and ",(0,o.jsx)(n.code,{children:"Server"})," suffixes."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Shared"})," component is the base component, and is inherited by the ",(0,o.jsx)(n.code,{children:"Client"})," and ",(0,o.jsx)(n.code,{children:"Server"})," components."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Client"})," and ",(0,o.jsx)(n.code,{children:"Server"})," components are inherited from the ",(0,o.jsx)(n.code,{children:"Shared"})," component, and are used to replicate the component across the server and client."]}),"\n",(0,o.jsxs)(n.p,{children:["You can automatically create a shared component by using the ",(0,o.jsx)(n.a,{href:"https://bleeding-tooth-studios.github.io/arcana-xvi-docs/docs/intro/plopfiles",children:"plop generator."})]}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"// shared\r\ninterface ValueStorageState {\r\n\tvalue: number;\r\n}\r\n\r\n@Component()\r\nexport class SharedValueStorageComponent extends SharedComponent<ValueStorageState> {\r\n\tprotected state = {\r\n\t\tvalue: 0,\r\n\t};\r\n}\r\n\r\n// server\r\n@Component({\r\n\ttag: 'ValueStorageComponent',\r\n})\r\nexport class ServerValueStorageComponent extends ValueStorageComponent implements OnStart {\r\n\tpublic onStart() {\r\n\t\ttask.spawn(() => {\r\n\t\t\twhile (task.wait(3)) {\r\n\t\t\t\tthis.increment();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@Action()\r\n\tprivate increment() {\r\n\t\treturn {\r\n\t\t\t...this.state,\r\n\t\t\tvalue: this.state.value + 1,\r\n\t\t};\r\n\t}\r\n}\r\n\r\n// client\r\n@Component({\r\n\ttag: 'ValueStorageComponent',\r\n})\r\nexport class ClientValueStorageComponent extends ValueStorageComponent {\r\n\t@Subscribe((state) => state.value)\r\n\tprivate onIncrement(newValue: number) {\r\n\t\tprint(`new value: ${newValue}`);\r\n\t}\r\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["More on how shared components work are in the ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@rbxts/shared-components-flamework",children:"shared components documentation."})]}),"\n",(0,o.jsx)(n.h3,{id:"client-components",children:"Client Components"}),"\n",(0,o.jsx)(n.p,{children:"Client components represent components that are attached to entities clientside."}),"\n",(0,o.jsx)(n.h3,{id:"server-components",children:"Server Components"}),"\n",(0,o.jsx)(n.p,{children:"Server components represent components that are attached to entities serverside."}),"\n",(0,o.jsx)(n.h3,{id:"shared-components",children:"Shared Components"}),"\n",(0,o.jsxs)(n.p,{children:["Shared components represent components that are shared between the server and client.\r\nThey are not directly implemented as attachable components, but contain a shared ",(0,o.jsx)(n.code,{children:"state"})," and ",(0,o.jsx)(n.code,{children:"remotes"})," field that is inherited by the client and server components."]}),"\n",(0,o.jsx)(n.h2,{id:"internal-component-structure",children:"Internal Component Structure"}),"\n",(0,o.jsxs)(n.p,{children:["This comes with the exception of components with a _ suffix, which are internal components and usually do not have a ",(0,o.jsx)(n.code,{children:"tag"})," field.\r\nUsually, they are attached to the entity by other components via their constructor. This is done to fragment responsibilities and keep the codebase clean.\r\nInternal components do not typically follow the same structure as ordinary components."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"@Component({\r\n\ttag: 'PlayerActor',\r\n})\r\nexport class ClientPlayerActor extends SharedPlayerActor {\r\n\tviewmodel: CharacterViewmodel;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.viewmodel = this.components.addComponent<CharacterViewmodel>(this.instance);\r\n\t}\r\n}\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"@Component({})\r\nexport class CharacterViewmodel extends BaseComponent<{}, CharacterRigR6> implements OnStart, OnRender {\r\n\tonStart() {\r\n\t\t// do stuff\r\n\t}\r\n\r\n\tonRender() {\r\n\t\t// do other stuff\r\n\t}\r\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var r=t(6540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);